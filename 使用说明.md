# Git Copilot Review - 自动提交审查使用说明

## ✨ 新功能：自动提交审查

现在扩展会在你提交代码时**自动触发 AI 审查**！

## 📖 使用方法

### 方式一：快捷键提交（推荐）⭐

1. 在 Source Control 面板暂存文件
2. 输入提交消息
3. 按 **`Cmd+Enter`** (macOS) 或 **`Ctrl+Enter`** (Windows/Linux)
4. 🤖 自动进行 AI 审查
5. 查看审查结果后选择是否继续提交

### 方式二：点击按钮提交

1. 在 Source Control 面板暂存文件
2. 输入提交消息
3. 点击 SCM 工具栏的 **"✓ AI 审查并提交"** 按钮
4. 查看审查结果后选择是否继续提交

### 方式三：仅审查不提交

点击状态栏或 SCM 工具栏的 **"$(search-fuzzy) AI 审查"** 按钮

## ⚙️ 配置

### 禁用自动审查

如果你不想每次提交都自动审查，可以：

1. 打开设置 (`Cmd+,`)
2. 搜索 "Git Copilot Review"
3. 取消勾选 **"Auto Review On Commit"**

### 其他配置项

- **Enabled**: 是否启用扩展（默认：开启）
- **Auto Review On Commit**: 提交时自动审查（默认：开启）
- **Block On Error**: 发现严重错误时阻止提交（默认：开启）
- **Block On Warning**: 发现警告时阻止提交（默认：关闭）
- **Copilot Model**: 选择 AI 模型（gpt-4o / gpt-3.5-turbo / auto）
- **Max Diff Size**: 最大审查文件大小（默认：500KB）

## 🎯 工作流程

```
修改代码
   ↓
暂存文件 (git add)
   ↓
输入提交消息
   ↓
按 Cmd+Enter 提交
   ↓
🤖 AI 自动审查
   ↓
┌─────────────────┐
│ 审查结果        │
│ - 代码质量      │
│ - 潜在问题      │
│ - 修复建议      │
└─────────────────┘
   ↓
选择操作：
  ✅ 继续提交
  ❌ 取消并修复
```

## 🔥 最佳实践

1. **保持开启自动审查**：让 AI 在每次提交前帮你检查代码
2. **认真查看审查结果**：AI 可能会发现你忽略的问题
3. **根据建议改进**：即使选择继续提交，也要记录 AI 的建议
4. **合理设置阻止策略**：根据团队规范调整 blockOnError/Warning

## ❓ 常见问题

**Q: 我想临时跳过审查怎么办？**  
A: 可以使用 Git 命令行直接提交，或在设置中临时禁用自动审查。

**Q: 审查时间太长怎么办？**  
A: 可以减小 maxDiffSize 设置，或选择更快的模型（gpt-3.5-turbo）。

**Q: 如何只审查不提交？**  
A: 点击状态栏的 "AI 审查" 按钮，或使用命令面板的 "AI 代码审查" 命令。

**Q: 快捷键与其他扩展冲突？**  
A: 可以在 VS Code 键盘快捷键设置中修改 `git-copilot-review.commitWithReview` 的快捷键。

## 🚀 开始使用

1. 按 `F5` 启动扩展调试
2. 在新窗口中打开一个 Git 项目
3. 修改代码并暂存
4. 按 `Cmd+Enter` 提交
5. 观察 AI 审查结果！

---

**提示**：首次使用需要授权扩展使用 GitHub Copilot。
